<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>WePay iOS SDK: &lt;WPCardReaderDelegate&gt; Protocol Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WePay iOS SDK
   &#160;<span id="projectnumber">5.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('protocol_w_p_card_reader_delegate-p.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="protocol_w_p_card_reader_delegate-p-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">&lt;WPCardReaderDelegate&gt; Protocol Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_we_pay_8h_source.html">WePay.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for &lt;WPCardReaderDelegate&gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="protocol_w_p_card_reader_delegate-p.png" usemap="#_3CWPCardReaderDelegate_3E_map" alt=""/>
  <map id="_3CWPCardReaderDelegate_3E_map" name="&lt;WPCardReaderDelegate&gt;_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:aebdd68b66cf5487f73aca1680c118ab9"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_w_p_card_reader_delegate-p.html#aebdd68b66cf5487f73aca1680c118ab9">didReadPaymentInfo:</a></td></tr>
<tr class="separator:aebdd68b66cf5487f73aca1680c118ab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa968d5f5b48c616a4a1a1fffc27c85ce"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_w_p_card_reader_delegate-p.html#aa968d5f5b48c616a4a1a1fffc27c85ce">didFailToReadPaymentInfoWithError:</a></td></tr>
<tr class="separator:aa968d5f5b48c616a4a1a1fffc27c85ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c8956cdf177a35e2ee6f1781662f8a1"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_w_p_card_reader_delegate-p.html#a2c8956cdf177a35e2ee6f1781662f8a1">cardReaderDidChangeStatus:</a></td></tr>
<tr class="separator:a2c8956cdf177a35e2ee6f1781662f8a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ea71fa4018b80df7078646d2c3cded"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_w_p_card_reader_delegate-p.html#aa1ea71fa4018b80df7078646d2c3cded">shouldResetCardReaderWithCompletion:</a></td></tr>
<tr class="separator:aa1ea71fa4018b80df7078646d2c3cded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85cb3f00d72a9f868af83dd56c6b8e3d"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_w_p_card_reader_delegate-p.html#a85cb3f00d72a9f868af83dd56c6b8e3d">authorizeAmountWithCompletion:</a></td></tr>
<tr class="separator:a85cb3f00d72a9f868af83dd56c6b8e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This delegate protocol has to be adopted by any class that handles Card Reader responses. </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a85cb3f00d72a9f868af83dd56c6b8e3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) authorizeAmountWithCompletion: </td>
          <td></td>
          <td class="paramtype">(void(^)(NSDecimalNumber *amount, NSString *currencyCode, long accountId))&#160;</td>
          <td class="paramname"><em>completion</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when an EMV reader is connected, so that you can provide the amount, currency code and the <a class="el" href="interface_we_pay.html">WePay</a> account Id of the merchant. The transaction cannot proceed until the completion block is executed. Note: In the staging environment, use amounts of 20.61, 120.61, 23.61 and 123.61 to simulate authorization errors. Amounts of 21.61, 121.61, 22.61, 122.61, 24.61, 124.61, 25.61, and 125.61 will simulate successful auth. Example: completion([NSDecimalNumber decimalNumberWithString:"21.61"], kWPCurrencyCodeUSD, 1234567);</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">completion</td><td>The block to be executed with the amount, currency code and merchant account Id for the transaction. </td></tr>
    <tr><td class="paramname">amount</td><td>The amount for the transaction. For USD amounts, there can be a maximum of two places after the decimal point. (amount.decimalValue._exponent must be &gt;= -2) </td></tr>
    <tr><td class="paramname">currencyCode</td><td>The 3-character ISO 4217 currency code. The only supported currency code is kWPCurrencyCodeUSD. </td></tr>
    <tr><td class="paramname">accountId</td><td>The <a class="el" href="interface_we_pay.html">WePay</a> account id of the merchant. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2c8956cdf177a35e2ee6f1781662f8a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) cardReaderDidChangeStatus: </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>status</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when the card reader changes status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>Current status of the card reader, one of: kWPCardReaderStatusNotConnected; kWPCardReaderStatusConnected; kWPCardReaderStatusCheckingReader; kWPCardReaderStatusConfiguringReader; kWPCardReaderStatusWaitingForCard; kWPCardReaderStatusShouldNotSwipeEMVCard; kWPCardReaderStatusChipErrorSwipeCard; kWPCardReaderStatusSwipeDetected; kWPCardReaderStatusCardDipped; kWPCardReaderStatusTokenizing; kWPCardReaderStatusAuthorizing; kWPCardReaderStatusStopped; </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa968d5f5b48c616a4a1a1fffc27c85ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) didFailToReadPaymentInfoWithError: </td>
          <td></td>
          <td class="paramtype">(NSError *)&#160;</td>
          <td class="paramname"><em>error</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when an error occurs while reading a card.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>The error which caused the failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aebdd68b66cf5487f73aca1680c118ab9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) didReadPaymentInfo: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_w_p_payment_info.html">WPPaymentInfo</a> *)&#160;</td>
          <td class="paramname"><em>paymentInfo</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when payment info is successfully obtained from a card.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">paymentInfo</td><td>The payment info. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa1ea71fa4018b80df7078646d2c3cded"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) shouldResetCardReaderWithCompletion: </td>
          <td></td>
          <td class="paramtype">(void(^)(BOOL shouldReset))&#160;</td>
          <td class="paramname"><em>completion</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Optionally called when the connected card reader is already configured, to give the app an opportunity to reset the device. If this method is implemented, the transaction cannot proceed until the completion block is executed. The card reader must be reset here if the merchant manually resets the reader via the hardware reset button on the reader. Examples: completion(YES); completion(NO);</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">completion</td><td>The block to be executed with the answer to the question: "Should the card reader be reset?". </td></tr>
    <tr><td class="paramname">shouldReset</td><td>The answer to the question: "Should the card reader be reset?". </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this protocol was generated from the following file:<ul>
<li><a class="el" href="_we_pay_8h_source.html">WePay.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="protocol_w_p_card_reader_delegate-p.html">WPCardReaderDelegate</a></li>
    <li class="footer">Generated on Thu Apr 14 2016 15:35:13 for WePay iOS SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
